{"version":3,"sources":["js/factory/sessionFactory.js"],"names":[],"mappings":"AAAA,CAAC,WAAW;IACR;;IAEA,eAAe,UAAU,CAAC,UAAU,aAAa;IACjD;SACK,OAAO;SACP,QAAQ,kBAAkB;;;IAG/B,SAAS,eAAe,QAAQ,WAAW,aAAa;;QAEpD,OAAO;YACH,gBAAgB;YAChB,gBAAgB;YAChB,WAAW;YACX,UAAU;YACV,WAAW;;;QAGf,IAAI,UAAU;QACd,IAAI,SAAS;;QAEb,SAAS,iBAAiB;YACtB,IAAI,OAAO,WAAW;gBAClB,UAAU,QAAQ,SAAS,eAAe,QAAQ;;YAEtD,IAAI,OAAO,WAAW,eAAe,WAAW,MAAM;gBAClD,OAAO,QAAQ;gBACf,UAAU,KAAK;gBACf;;YAEJ,OAAO;;;QAGX,SAAS,eAAe,MAAM;YAC1B,eAAe,QAAQ,eAAe,QAAQ,OAAO;YACrD,IAAI,OAAO,QAAQ;gBACf,eAAe,WAAW;YAC9B,UAAU;;;QAGd,SAAS,UAAU,WAAW;YAC1B,SAAS;;YAET,KAAK,IAAI,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;gBACvC,IAAI,IAAI;gBACR,KAAK,IAAI,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;oBACpC,IAAI,OAAO,GAAG,SAAS,UAAU,GAAG,aAAa;wBAC7C,IAAI;;gBAEZ,IAAI,KAAK;oBACL,OAAO,KAAK,UAAU,GAAG;gBAC7B,IAAI;;;;QAIZ,SAAS,SAAS,OAAO;YACrB,IAAI,QAAQ,OAAO,QAAQ;YAC3B,OAAO,OAAO,OAAO;;;QAGzB,SAAS,YAAY;;YAEjB,OAAO;;;;KAId","sourcesContent":["(function() {\n    'use strict';\n\n    sessionFactory.$inject = [\"toastr\", \"$location\", \"dataFactory\"];\n    angular\n        .module('mqtt')\n        .factory('sessionFactory', sessionFactory)\n\n    /** @ngInject */\n    function sessionFactory(toastr, $location, dataFactory) {\n\n        return {\n            getSessionData: getSessionData,\n            setSessionData: setSessionData,\n            pushTopic: pushTopic,\n            popTopic: popTopic,\n            getTopics: getTopics\n        }\n\n        var session = {};\n        var topics = [];\n\n        function getSessionData() {\n            if (typeof session == 'undefined')\n                session = angular.fromJson(sessionStorage.getItem('mqttSession'));\n            // console.log(session);\n            if (typeof session == 'undefined' || session == null) {\n                toastr.warning('First please log in!');\n                $location.path('/');\n                return;\n            }\n            return session;\n        }\n\n        function setSessionData(data) {\n            sessionStorage.setItem('mqttSession', angular.toJson(data));\n            if (typeof data == 'undefined')\n                sessionStorage.removeItem('mqttSession');\n            session = data;\n        }\n\n        function pushTopic(newTopics) {\n            topics = [];\n            // console.log(newTopics);\n            for (var i = 0; i < newTopics.length; i++) {\n                var f = 0;\n                for (var j = 0; j < topics.length; j++) {\n                    if (topics[j].topic == newTopics[i].subscribtion.topic)\n                        f = 1;\n                }\n                if (f != 1)\n                    topics.push(newTopics[i].subscribtion);\n                f = 0;\n            }\n        }\n\n        function popTopic(topic) {\n            var index = topics.indexOf(topic);\n            topics.splice(index, 1)\n        }\n\n        function getTopics() {\n            // console.log(topics);\n            return topics;\n        }\n    }\n\n}());"],"file":"../../../js/factory/sessionFactory.js"}